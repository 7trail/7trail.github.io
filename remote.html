<html lang="en">
<head>
	<link rel="stylesheet" href="mainsite.css">
	<script src="gif.js?v=3"></script>
	<script src="spiral.js"></script>
	<script src="data.js"></script>
</head>
 
<body>
  <h1>anomaly</h1>
	<label for="textInput">Enter Room Code:</label>
	<br><br><br>
  
  <input type="text" id="textInput" placeholder="Type something...">
  <br>
 <br>
 <div id="imageContainer" class="aspect-ratio-container"></div>
  
</body>

<script>

  const inputElement = document.getElementById('textInput');
  console.log(getData("data"));
  function generateRandomString(length) {
      const characters = 'BCDFGHJKLMNPQRSTVWXZ0123456789';
      let result = '';
      for (let i = 0; i < length; i++) {
        const randomIndex = Math.floor(Math.random() * characters.length);
        result += characters.charAt(randomIndex);
      }
      return result;
    }
  myData = {"data": {"value":-1}};
	inputElement.value = generateRandomString(6);  
   
	var intervalId = window.setInterval(async function(){
		
	      d = JSON.parse(await getData("data/"+inputElement.value.trim()));
		
		console.log(d);
	      if ("data" in d && myData["data"]["value"] != d["data"]["value"]) {
	        myData = d;
	        generateRandomNoise(parseFloat(myData["data"]["sl1"]),parseFloat(myData["data"]["sl2"]),myData["data"]["picker1"],myData["data"]["picker2"],512, 512, 100, myData["data"]["lines"], myData["data"]["picker3"]);
	      }
  }, 5000);
  document.addEventListener('DOMContentLoaded', function () {
    // Find the div with the class 'wrapper'
    var wrapperDiv = document.querySelector('.wrapper');

    // Check if the wrapperDiv is found
    if (wrapperDiv) {
        // Find and remove the header element within the wrapper
        var headerElement = wrapperDiv.querySelector('header');
        if (headerElement) {
            headerElement.remove();
        }

        // Find and remove the footer element within the wrapper
        var footerElement = wrapperDiv.querySelector('footer');
        if (footerElement) {
            footerElement.remove();
        }
    }
});
  
</script>
</html>
